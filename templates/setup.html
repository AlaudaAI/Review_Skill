{% extends "base.html" %}
{% block title %}Setup - Review Boost{% endblock %}

{% block content %}
<h1 class="text-3xl font-anton uppercase leading-[0.9] mb-6">Business Setup</h1>

<form method="post" class="bg-white rounded-lg shadow p-6 mb-8 space-y-4 card border border-charcoal/10">
    <div>
        <label class="block text-sm font-medium text-charcoal mb-1">Business Name</label>
        <input type="text" name="name" required
               class="w-full border border-charcoal/10 rounded px-3 py-2 text-sm focus:ring-golden focus:border-golden"
               placeholder="e.g. Joe's Pizza">
    </div>
    <div>
        <label class="block text-sm font-medium text-charcoal mb-1">Google Place ID</label>
        <input type="text" name="google_place_id" required
               class="w-full border border-charcoal/10 rounded px-3 py-2 text-sm focus:ring-golden focus:border-golden"
               placeholder="e.g. ChIJN1t_tDeuEmsRUsoyG83frY4">
        <p class="text-xs text-dark/40 mt-1">
            Find it at
            <a href="https://developers.google.com/maps/documentation/places/web-service/place-id-finder"
               target="_blank" class="underline hover:text-golden">Place ID Finder</a>
        </p>
    </div>
    <button type="submit"
            class="bg-golden text-charcoal px-4 py-2 rounded text-sm hover:bg-golden/90 font-medium">
        Add Business
    </button>
</form>

{% if businesses %}
<h2 class="text-lg font-semibold mb-3">Existing Businesses</h2>
<div class="bg-white rounded-lg shadow overflow-hidden border border-charcoal/10">
    <table class="w-full text-sm">
        <thead class="bg-charcoal/5">
            <tr>
                <th class="text-left px-4 py-2">Name</th>
                <th class="text-left px-4 py-2">Place ID</th>
                <th class="px-4 py-2"></th>
            </tr>
        </thead>
        <tbody>
            {% for biz in businesses %}
            <tr class="border-t border-charcoal/10">
                <td class="px-4 py-2 font-medium">{{ biz.name }}</td>
                <td class="px-4 py-2 text-dark/50 font-mono text-xs">{{ biz.google_place_id }}</td>
                <td class="px-4 py-2 text-right">
                    <form method="post" action="/portal/setup/delete/{{ biz.id }}" class="inline"
                          onsubmit="return confirm('Delete this business and all its review requests?')">
                        <button type="submit" class="text-red-500 hover:text-red-700 text-xs">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}
